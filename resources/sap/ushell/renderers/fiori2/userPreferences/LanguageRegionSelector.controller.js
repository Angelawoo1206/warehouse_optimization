// Copyright (c) 2009-2014 SAP SE, All Rights Reserved
(function(){"use strict";sap.ui.controller("sap.ushell.renderers.fiori2.userPreferences.LanguageRegionSelector",{onInit:function(){var v=this.getView();var m=new sap.ui.model.json.JSONModel();var u=sap.ushell.Container.getUser();var l=u.getLanguage();var a={languageList:[{text:l,key:l}],selectedLanguage:this._getFormatedLanguage(l)};var L=sap.ui.getCore().getConfiguration().getFormatSettings().getFormatLocale(),o=sap.ui.core.LocaleData.getInstance(L);var d=o.getDatePattern("medium");var t=o.getTimePattern("medium");a.datePatternList=[{text:d,key:d}];a.selectedDatePattern=d;var h=v.hourFormatSegmentedButton.getButtons();var s=(t.indexOf("H")===-1)?h[0]:h[1];v.hourFormatSegmentedButton.setSelectedButton(s);m.setData(a);this.oModel=m;v.setModel(m);},getContent:function(){var d=jQuery.Deferred();d.resolve(this.getView());return d.promise();},getValue:function(){var d=jQuery.Deferred();d.resolve(this.oModel.getProperty("/selectedLanguage"));return d.promise();},onCancel:function(){},onSave:function(){var d=jQuery.Deferred();d.resolve();return d.promise();},_getFormatedLanguage:function(l){if(l&&l.indexOf('-')>-1){l=l.replace('-',' (').concat(')').toUpperCase();}else if(l){l=l.toUpperCase();}return l;}});}());
