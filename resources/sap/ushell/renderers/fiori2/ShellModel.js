// Copyright (c) 2009-2014 SAP SE, All Rights Reserved
(function(){"use strict";jQuery.sap.declare("sap.ushell.renderers.fiori2.ShellModel");var a=sap.ui.Device.system.phone;var m={animationMode:"full",searchAvailable:false,title:"",searchFiltering:true,showEndUserFeedback:false,searchTerm:"",isPhoneWidth:false,enableNotifications:false,enableNotificationsUI:false,notificationsCount:0,currentViewPortState:"Center",userStatus:undefined,customStatesDelta:{"home":{"actions":["ContactSupportBtn","EndUserFeedbackBtn"]},"app":{"actions":["ContactSupportBtn","EndUserFeedbackBtn","aboutBtn"]},"minimal":{"actions":["ContactSupportBtn","EndUserFeedbackBtn","aboutBtn"]},"standalone":{"actions":["ContactSupportBtn","EndUserFeedbackBtn","aboutBtn"]},"embedded":{"actions":["ContactSupportBtn","EndUserFeedbackBtn","aboutBtn"]},"embedded-home":{"actions":["ContactSupportBtn","EndUserFeedbackBtn","aboutBtn"]}},states:{"blank":{"stateName":"blank","showCurtain":false,"headerHiding":a,"headerVisible":true,"headEndItems":[],"showCatalog":false,"showPane":false,"showRightFloatingContainer":true,"paneContent":[],"headItems":[],"actions":[],"floatingActions":[],"subHeader":[],"toolAreaItems":[],"RightFloatingContainerItems":[],"toolAreaVisible":false,"floatingContainerContent":[],"application":{}},"blank-home":{"stateName":"blank-home","showCurtain":false,"headerHiding":a,"headerVisible":true,"headEndItems":[],"showCatalog":false,"showPane":false,"showRightFloatingContainer":true,"paneContent":[],"headItems":[],"actions":[],"floatingActions":[],"subHeader":[],"toolAreaItems":[],"RightFloatingContainerItems":[],"toolAreaVisible":false,"floatingContainerContent":[],"application":{}},"home":{"stateName":"home","showCurtain":false,"headerHiding":false,"headerVisible":true,"showCatalog":false,"showPane":false,"showRightFloatingContainer":true,"headItems":['meAreaHeaderButton'],"headEndItems":["sf"],"search":"","paneContent":[],"actions":["openCatalogBtn","userSettingsBtn"],"floatingActions":[],"subHeader":[],"toolAreaItems":[],"RightFloatingContainerItems":[],"toolAreaVisible":false,"floatingContainerContent":[],"application":{}},"app":{"stateName":"app","showCurtain":false,"headerHiding":a,"headerVisible":true,"headEndItems":["sf"],"showCatalog":false,"showPane":false,"showRightFloatingContainer":true,"paneContent":[],"search":"","headItems":['meAreaHeaderButton','backBtn','homeBtn'],"actions":["openCatalogBtn","userSettingsBtn"],"floatingActions":[],"subHeader":[],"toolAreaItems":[],"RightFloatingContainerItems":[],"toolAreaVisible":false,"floatingContainerContent":[],"application":{}},"minimal":{"stateName":"minimal","showCurtain":false,"headerHiding":false,"headerVisible":true,"headEndItems":[],"showCatalog":false,"showPane":false,"showRightFloatingContainer":true,"paneContent":[],"headItems":['meAreaHeaderButton','homeBtn'],"actions":["openCatalogBtn","userSettingsBtn"],"floatingActions":[],"subHeader":[],"toolAreaItems":[],"RightFloatingContainerItems":[],"toolAreaVisible":false,"floatingContainerContent":[],"application":{}},"standalone":{"stateName":"standalone","showCurtain":false,"headerHiding":a,"headerVisible":true,"headEndItems":[],"showCatalog":false,"showPane":false,"showRightFloatingContainer":true,"paneContent":[],"headItems":['meAreaHeaderButton','backBtn'],"actions":[],"floatingActions":[],"subHeader":[],"toolAreaItems":[],"RightFloatingContainerItems":[],"toolAreaVisible":false,"floatingContainerContent":[],"application":{}},"embedded":{"stateName":"embedded","showCurtain":false,"headerHiding":a,"headerVisible":true,"headEndItems":[],"showCatalog":false,"showPane":false,"showRightFloatingContainer":true,"paneContent":[],"headItems":['meAreaHeaderButton','backBtn','homeBtn'],"actions":[],"floatingActions":[],"subHeader":[],"toolAreaItems":[],"RightFloatingContainerItems":[],"toolAreaVisible":false,"floatingContainerContent":[],"application":{}},"embedded-home":{"stateName":"embedded-home","showCurtain":false,"headerHiding":a,"headerVisible":true,"headEndItems":[],"showCatalog":false,"showPane":false,"showRightFloatingContainer":true,"paneContent":[],"headItems":['meAreaHeaderButton'],"actions":[],"floatingActions":[],"subHeader":[],"toolAreaItems":[],"RightFloatingContainerItems":[],"toolAreaVisible":false,"floatingContainerContent":[],"application":{}},"headerless":{"stateName":"headerless","showCurtain":false,"headerHiding":a,"headerVisible":false,"headEndItems":[],"showCatalog":false,"showPane":false,"showLogo":false,"showRightFloatingContainer":true,"paneContent":[],"headItems":['backBtn','homeBtn'],"actions":[],"floatingActions":[],"subHeader":[],"toolAreaItems":[],"RightFloatingContainerItems":[],"toolAreaVisible":false,"floatingContainerContent":[],"application":{}},"merged":{"stateName":"merged","showCurtain":false,"headerHiding":a,"headerVisible":true,"headEndItems":[],"showCatalog":false,"showPane":false,"showLogo":false,"showRightFloatingContainer":true,"paneContent":[],"headItems":['backBtn','homeBtn'],"actions":[],"floatingActions":[],"subHeader":[],"toolAreaItems":[],"RightFloatingContainerItems":[],"toolAreaVisible":false,"floatingContainerContent":[],"application":{}},"headerless-home":{"stateName":"headerless-home","showCurtain":false,"headerHiding":a,"headerVisible":false,"headEndItems":[],"showCatalog":false,"showPane":false,"showLogo":false,"showRightFloatingContainer":true,"paneContent":[],"headItems":[],"actions":[],"floatingActions":[],"subHeader":[],"toolAreaItems":[],"RightFloatingContainerItems":[],"toolAreaVisible":false,"floatingContainerContent":[],"application":{}},"merged-home":{"stateName":"merged-home","showCurtain":false,"headerHiding":a,"headerVisible":true,"headEndItems":[],"showCatalog":false,"showPane":false,"showLogo":false,"showRightFloatingContainer":true,"paneContent":[],"headItems":[],"actions":[],"floatingActions":[],"subHeader":[],"toolAreaItems":[],"RightFloatingContainerItems":[],"toolAreaVisible":false,"floatingContainerContent":[],"application":{}}},userPreferences:{entries:[]}};function v(i,b,s){return b!=undefined;}function n(i,b,s){return true;}function u(b,V,c){c.setProperty(b,V);}function S(){var M;var c;var s;var C;var e;var o;var I;var b;var E;var d;var t;var f;this.createDefault=function(){var r=function(g,h,D){if(D.sProperty=="actions"){var A=D.oModel.getProperty(D.path);if(A&&A.length===0&&D.aIds&&D.aIds.length>0){this._renderShellState();}}}.bind(this);this.createTriggers([{sName:'onAddFirstAction',fnRegister:function(){sap.ui.getCore().getEventBus().subscribe("launchpad","updateShell",r,this);},fnUnRegister:function(){sap.ui.getCore().getEventBus().unsubscribe("launchpad","updateShell",r,this);}}],false,["blank","blank-home"]);this.createInspection("actions",[{fnCondition:function(i,g,T){return(i&&i.length>0)||(g&&g.length>0);},fnAction:function(i,g,T){if(g.indexOf("meAreaHeaderButton")===-1){T.addHeaderItem(["meAreaHeaderButton"],true);}}}],false,["blank-home","blank"]);};this.init=function(g){M=new sap.ui.model.json.JSONModel(m);s=M;c={};e={};o={};I=false;b=false;d=false;t=[];f=true;E=undefined;this.createDefault();var i=g&&g.appState?g.appState:"home";this.switchState(i);};this.destroy=function(){M=undefined;s=undefined;c=undefined;e=undefined;o=undefined;I=undefined;b=undefined;f=undefined;d=undefined;E=undefined;};this.getModel=function(){return M;};this.switchState=function(g,h){var p=g[0]==="/"?g:"/states/"+g,i=M.getProperty(p),j=M.getProperty("/currentState")||{},k=["home","embedded-home","headerless-home","merged-home","blank-home"];if(!!h){M.setProperty("/lastState",j);}this._destroyManageQueue(k);M.setProperty("/currentState",jQuery.extend(true,{},{},i));if(!e[g]){e[g]={extendedShellStates:{},oCheckPoints:{},aTriggers:[],customShellState:this._createCustomShellState(g)};}C=e[g].customShellState;E=undefined;this._renderShellState();return i;};this.setHeaderHiding=function(h){this.updateStateProperty("headerHiding",h,true);};this.setHeaderVisibility=function(V,g,h){this.updateStateProperty("headerVisible",V,g,h);};this.showLogo=function(g,h){this.updateStateProperty("showLogo",true,g,h,false);};this.addHeaderItem=function(i,g,h){this._addHeaderItemInCorrectOrder("headItems",i,g,h);};this._removeReservedItemId=function(r,g,i){var A=false,R=i.indexOf(r);if(R>-1){i.splice(R,1);A=true;}R=g.indexOf(r);if(R>-1){g.splice(R,1);A=true;}return A;};this._addHeaderItemInCorrectOrder=function(p,i,g,h){var j=this;function V(k,l,q){var A=3-k.length;l.forEach(function(r,w){var x=(r==='meAreaHeaderButton'||r==='backBtn'||r==='homeBtn');if(k[r]===-1&&!x){A--;}});if(A<0){jQuery.sap.log.warning("Maximum of three items has been reached, cannot add more items.");return false;}return true;}function U(k,l,q){var r=q.getProperty(k),w=[],x=l.slice(0);if(j._removeReservedItemId("meAreaHeaderButton",r,x)===true){w.push("meAreaHeaderButton");}if(j._removeReservedItemId("backBtn",r,x)===true){w.push("backBtn");}if(j._removeReservedItemId("homeBtn",r,x)===true){w.push("homeBtn");}r.some(function(y){if(w.length<3){w.push(y);}else{return true;}});x.some(function(y){if(w.length<3){w.push(y);}else{return true;}});q.setProperty(k,w);}this._setShellItem(p,i,g,h,V,U);};this.removeHeaderItem=function(i,g,h){this._removeShellItem("headItems",i,g,h);};this.addHeaderEndItem=function(i,g,h,D){if(i.length){this._addUpToThreeItem("headEndItems",i,g,h,D);}};this.removeHeaderEndItem=function(i,g,h){this._removeShellItem("headEndItems",i,g,h);};this.addSubHeader=function(i,g,h){if(i.length){this._addShellItem("subHeader",i,g,h);}};this.removeSubHeader=function(i,g,h){this._removeShellItem("subHeader",i,g,h);};this.addActionButton=function(i,g,h,j){if(j){this._addActionButtonAtStart("actions",i,g,h);}else{this._addActionButton("actions",i,g,h);}};this.removeActionButton=function(i,g,h){this._removeShellItem("actions",i,g,h);};this.addToolAreaItem=function(i,g,h){if(i.length){this._addToolAreaItem("toolAreaItems",i,g,h);}};this.removeToolAreaItem=function(i,g,h){this._removeShellItem("toolAreaItems",i,g,h);};this.addLeftPaneContent=function(i,g,h){if(i.length){this._addShellItem("paneContent",i,g,h);}};this.removeLeftPaneContent=function(i,g,h){this._removeShellItem("paneContent",i,g,h);};this.addRightFloatingContainerItem=function(i,g,h){if(i.length){this._addRightFloatingContainerItem("RightFloatingContainerItems",i,g,h);}};this.removeRightFloatingContainerItem=function(i,g,h){this._removeShellItem("RightFloatingContainerItems",i,g,h);};this.showSettingsButton=function(g,h){this.addActionButton(["userSettingsBtn"],g,h,false);};this.showSignOutButton=function(g,h){this.addActionButton(["logoutBtn"],g,h,false);};this.showRightFloatingContainer=function(g){this._showRightFloatingContainer(g);};this.addFloatingActionButton=function(i,g,h){if(i.length){this._addShellItem("floatingActions",i,g,h);}};this.removeFloatingActionButton=function(i,g,h){this._removeShellItem("floatingActions",i,g,h);};this.updateStateProperty=function(p,V,g,h,D){this._setShellItem(p,V,g,h,v,u,D);};this._handleTriggers=function(N){var T,g,h=[],A={};f=false;while(t.length>0){T=t.pop();if(N[T.sName]){h.push(T);A[T.sName]=T;}else{T.fnUnRegister(this);}}for(var i in N){if(N.hasOwnProperty(i)){if(!A[i]){g=N[i];g.fnRegister(this);h.push(g);}}}t=h;f=true;};this._registerTriggers=function(T){var i;f=false;for(i=0;i<T.length;i++){T[i].fnRegister(this);t.push(T[i]);}f=true;};this.createTriggers=function(T,g,h){var N=[];var U=function(T,r){var w;if(!r.aTriggers){r.aTriggers=[];}for(w=0;w<T.length;w++){var x={sName:T[w].sName,fnRegister:T[w].fnRegister,fnUnRegister:T[w].fnUnRegister};N.push(x);r.aTriggers.push(x);}};if(g===true){var j=s.getProperty("/currentState/");U(T,j);if(!I){this._registerTriggers(N);}}else{var i,k=s.getProperty('/currentState/stateName');for(i=0;i<h.length;i++){var l=h[i],p="/states/"+l,q=M.getProperty(p);N=[];U(T,q);if(k===l){if(!I){this._registerTriggers(N);}}}}};this.createInspection=function(A,g,h,j){var k=function(M,A,g){var x,y;if(!M.oCheckPoints){M.oCheckPoints=[];}if(!M.oCheckPoints[A]){M.oCheckPoints[A]=[];}x=M.oCheckPoints[A];for(y=0;y<g.length;y++){l=g[y];x.push({fnCondition:l.fnCondition,fnCheckPoint:l.fnAction});}};if(h===true){var l,p=s.getProperty("/currentState");k(p,A,g);if(!d&&!I){k(C.getProperty("/currentState"),A,g);}this._renderShellState();}else{var i,q=s.getProperty('/currentState/stateName');for(i=0;i<j.length;i++){var r=j[i],P="/states/"+r,w=M.getProperty(P);k(w,A,g);if(q===r){if(!I){this._renderShellState();}}}}};this.showShellItem=function(p,g,V){var h,j,k=this._getModelStates(g),l=this.getModel().getData().states,q="/currentState"+p;for(var i=0;i<k.length;i++){j=l[k[i]];h="/states/"+j.stateName+p;s.setProperty(h,V);}if(s.getProperty("/currentState/stateName")===g){s.setProperty(q,V);}};this.addCustomItems=function(g,i,h,j){if(this._isValidStateEntry(g)){this._isValidStateEntry(g).fnAdd(i,h,j);}else{throw new Error("Invalid state entry:"+g);}};this.removeCustomItems=function(g,i,h,j){if(this._isValidStateEntry(g)){this._isValidStateEntry(g).fnRemove(i,h,j);}else{throw new Error("Invalid state entry:"+g);}};this.createExtendedShellState=function(g,h){var B=M.getProperty("/currentState/stateName"),i,j=this._createCustomShellState(g);if(!e[B]){e[B]={extendedShellStates:{},oCheckPoints:{},aTriggers:[],customShellState:this._createCustomShellState("custom")};}i=e[B].extendedShellStates;if(i[g]){return false;}s=j;d=true;h();if(i[g]){i[g].customState=j;}else{i[g]={managedObjects:[],customState:j};}s=M;d=false;return true;};this.applyExtendedShellState=function(g){E=g;this._renderShellState();};this.addEntryInShellStates=function(g,h,A,r,i){var j,k;if(!c[g]){c[g]={fnAdd:A,fnHide:r};var l=this._getStatesList();for(j=0;j<l.length;j++){k=l[j];M.setProperty("/states/"+k+"/"+g,i[k]);}this["remove"+h]=r;this["add"+h]=A;}else{throw new Error("State entry already exsists:"+g);}};this.addElementToManagedQueue=function(i){var g=s.getProperty("/currentState/stateName"),B=M.getProperty("/currentState/stateName"),h,j=i.getId();if(!e[B]){e[B]={extendedShellStates:{},oCheckPoints:{},aTriggers:[],customShellState:this._createCustomShellState("custom")};}h=e[B].extendedShellStates;if(!h[g]){h[g]={managedObjects:[],customState:undefined};}h[g].managedObjects.push(j);var k=o[j];if(k){k.nRefCount++;}else{k={oItem:i,nRefCount:1};o[j]=k;}};this.updateNeededTriggersMap=function(g,T){var i;if(!T){return;}for(i=0;i<T.length;i++){g[T[i].sName]=T[i];}};this._renderShellState=function(){var B=M.getProperty("/currentState/stateName"),p=B[0]==="/"?B:"/states/"+B,g,h,i=jQuery.extend(true,{},{},M.getProperty(p)),j=e[B],k,N={};if(j){k=j.customShellState.getProperty("/currentState");}var l=new sap.ui.model.json.JSONModel({"currentState":jQuery.extend(true,{},{},i)});s=l;I=true;if(E){if(j.extendedShellStates[E]){g=j.extendedShellStates[E].customState;h=g.getProperty("/currentState");this._addCustomShellStates(h);}}if(k){this._addCustomShellStates(k);}s=M;if(i&&i.aTriggers){this.updateNeededTriggersMap(N,i.aTriggers);}if(h&&h.aTriggers){this.updateNeededTriggersMap(N,h.aTriggers);}if(k&&k.aTriggers){this.updateNeededTriggersMap(N,k.aTriggers);}if(f){this._handleTriggers(N);}M.setProperty("/currentState",l.getProperty("/currentState"));I=false;l.destroy();};this._addCustomShellStates=function(T){this.addHeaderItem(T.headItems,true);this.addToolAreaItem(T.toolAreaItems,true);this.addHeaderEndItem(T.headEndItems,true);this.addSubHeader(T.subHeader,true);this.addRightFloatingContainerItem(T.RightFloatingContainerItems,true);this.addActionButton(T.actions,true,undefined,false);this.addLeftPaneContent(T.paneContent,true);this.addFloatingActionButton(T.floatingActions,true);this._setCurrentApplicationInformation(T.application);this.showRightFloatingContainer(T.showRightFloatingContainer);this.setHeaderHiding(T.headerHiding);this.setHeaderVisibility(T.headerVisible,true);if(T.showLogo){this.showLogo(true);}};this._createCustomShellState=function(g){var h={"currentState":{"stateName":g,"headEndItems":[],"paneContent":[],"headItems":[],"actions":[],"floatingActions":[],"subHeader":[],"toolAreaItems":[],"RightFloatingContainerItems":[],"application":{},"showRightFloatingContainer":true,"headerHeading":undefined}};var i=M.getProperty("/customStatesDelta"),j=i[g];if(j){jQuery.extend(h.currentState,j);}return new sap.ui.model.json.JSONModel(h);};this._setCurrentApplicationInformation=function(A){if(!A){A={};}this.updateStateProperty("application",A,true);};this._showRightFloatingContainer=function(g){this._setShellItem("showRightFloatingContainer",g,true,[],n,u);};this._addActionButtonAtStart=function(p,i,g,h){function U(j,k,l){var A=l.getProperty(j),q=[],O=k.indexOf("openCatalogBtn");if(O>-1){k.splice(O,1);q.push("openCatalogBtn");}else{if(A[0]==="openCatalogBtn"){A.splice(0,1);q.push("openCatalogBtn");q=q.concat(A);}}q=q.concat(k).concat(A);l.setProperty(j,q);}this._setShellItem(p,i,g,h,n,U);};this._addActionButton=function(p,i,g,h){function U(j,k,l){var A=l.getProperty(j);var L=A.indexOf("logoutBtn");if(L>-1){A.splice.apply(A,[L,0].concat(k));}else{A=A.concat(k);}var O=A.indexOf("openCatalogBtn"),q=[];if(O>-1){A.splice(O,1);q.push("openCatalogBtn");q=q.concat(A);}else{q=A;}l.setProperty(j,q);}this._setShellItem(p,i,g,h,n,U);};this.setFloatingContainerContent=function(p,i,g,h){function V(j,i,k){return i.length===1;}function U(j,i,k){k.setProperty(j,i);}this._setShellItem(p,i,g,h,V,U);};this._addUpToThreeItem=function(p,i,g,h,D){function V(j,k,l){var q=0,r,w;if(k.length===1&&k[0]==="endItemsOverflowBtn"){return true;}for(r=0;r<j.length;r++){w=j[r];if(w!=="endItemsOverflowBtn"){q++;}if(q+k.length>3){jQuery.sap.log.warning("maximum of three items has reached, cannot add more items.");return false;}if(k.indexOf(w)>-1){return false;}}return true;}function U(j,k,l){var q=l.getProperty(j),r=q.slice(0);if(r[r.length-1]==="NotificationsCountButton"){r.splice.apply(r,[r.length-1,0].concat(k));}else{r=r.concat(k);}l.setProperty(j,r);}this._setShellItem(p,i,g,h,V,U,D);};this._addShellItem=function(p,i,g,h){function V(j,i,k){if(j.length>0){jQuery.sap.log.warning("You can only add one item. Replacing existing item: "+j[0]+" in state: "+k+", with the new item: "+i[0]+".");}return true;}function U(j,k,l){l.setProperty(j,i.slice(0));}this._setShellItem(p,i,g,h,V,U);};this._addRightFloatingContainerItem=function(p,i,g,h){function U(j,k,l){var q=l.getProperty(j);q=q.concat(k);l.setProperty(j,q);}this._setShellItem(p,i,g,h,n,U);};this._addToolAreaItem=function(p,i,g,h){function U(k,i,l){var q=l.getProperty(k);q.push(i);l.setProperty(k,q);}var j,P=this._getPassStates(h);for(j=0;j<P.length;j++){this.showShellItem("/toolAreaVisible",P[j],true);}this._setShellItem(p,i,g,h,n,U);};this._removeShellItem=function(p,i,g,h){function V(j,k){var l,i,q;for(q=0;q<k.length;q++){i=k[q];l=j.indexOf(i);if(l<0){jQuery.sap.log.warning("You cannot remove Item: "+i+", the headItem does not exists.");return false;}}return true;}function U(j,k,l){var q=l.getProperty(j),r,i,w;for(w=0;w<k.length;w++){i=k[w];r=q.indexOf(i);if(r>-1){q.splice(r,1);}}l.setProperty(j,q);}this._setShellItem(p,i,g,h,V,U);};this._commitCheckPoints=function(g,i,h){var j;for(j=0;j<g.length;j++){if(g[j].fnCondition(i,h,this)){g[j].fnCheckPoint(i,h,this);}}};this._setShellItem=function(p,O,g,h,V,U,D){var k,l;var q=Array.isArray(O)?O.slice(0):O;if(g===true){k="/currentState/"+p;l=s.getProperty(k);if(V(l,q,"currentState")===false){return;}if(I&&!b){var B=M.getProperty("/currentState/stateName"),P="/states/"+B,r=M.getProperty(P),w=e[B];b=true;if(r.oCheckPoints){var x=r.oCheckPoints[p];if(x&&x.length){this._commitCheckPoints(x,l,q);}}if(E){if(w.extendedShellStates[E]){var y=w.extendedShellStates[E].customState,z=y.getProperty("/currentState");if(z&&z.oCheckPoints&&z.oCheckPoints[p]){this._commitCheckPoints(z.oCheckPoints[p],l,q);}}}var A=w.customShellState.getProperty("/currentState");if(A&&A.oCheckPoints&&A.oCheckPoints[p]){x=A.oCheckPoints[p];if(x&&x.length){this._commitCheckPoints(x,l,q);}}b=false;}if(!d&&!I){U(k,q,C);sap.ui.getCore().getEventBus().publish('launchpad','updateShell',{oModel:s,path:k,aIds:q,sProperty:p});this._renderShellState();}else{U(k,q,s);}}else{var F=D?h:this._getPassStates(h),i,G=s.getProperty('/currentState/stateName');for(i=0;i<F.length;i++){var H=F[i],j;k="/states/"+H+"/"+p;l=s.getProperty(k);if(V(l,q,H)===false){continue;}var J=this._getModelStates(H,D);for(j=0;j<J.length;j++){k="/states/"+J[j]+"/"+p;U(k,q,s);if(G===J[j]){if(!I){this._renderShellState();}}}}}};this._getPassStates=function(g){var p=[],i;g=g||[];for(i=0;i<g.length;i++){if(g[i]!==undefined){if(g[i]!=="home"&&g[i]!=="app"){throw new Error("sLaunchpadState value is invalid");}p.push(g[i]);}}if(!p.length){p=["app","home"];}return p;};this._getModelStates=function(g,D){var h=[];if(g==="app"&&!D){var i=["app","minimal","standalone","embedded","headerless","merged","blank"];h=h.concat(i);}else if(g==="home"&&!D){var i=["home","embedded-home","headerless-home","merged-home","blank-home"];h=h.concat(i);}else{h.push(g);}return h;};this._getStatesList=function(){var g=M.getProperty("/states");return Object.keys(g);};this._destroyManageQueue=function(g){var h,i,j,k,B,l,p;for(h in e){if(e.hasOwnProperty(h)){if(!g||g.indexOf(h)===-1){B=e[h].extendedShellStates;for(l in B){if(B.hasOwnProperty(l)){p=B[l].managedObjects;for(i=0;i<p.length;i++){j=p[i];k=o[j];k.nRefCount--;if(k.nRefCount===0){k.oItem.destroy();}}delete B[l];}}delete e[h];}}}};this._isValidStateEntry=function(N){return!!c[N];};}sap.ushell.renderers.fiori2.ShellModel=new S();}());
