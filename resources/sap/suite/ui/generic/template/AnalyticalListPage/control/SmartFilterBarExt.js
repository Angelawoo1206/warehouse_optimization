sap.ui.define(["sap/ui/comp/smartfilterbar/SmartFilterBar"],function(S){"use strict";var F="compact";var a="visual";var b=S.extend("sap.suite.ui.generic.template.AnalyticalListPage.control.SmartFilterBarExt",{metadata:{properties:{mode:{type:"string",group:"Misc",defaultValue:F},smartVisualFilterBarId:{type:"string",group:"Misc",defaultValue:null}}},renderer:{}});b.prototype.setMode=function(m,s){var o=this.getProperty("mode");this.setProperty("mode",m);if(m==a&&!this._initVisualFilterBar){var v=this._getSmartVisualFilterBar();v.attachFilterChange(this._onVisualFilterChange,this);this._initVisualFilterBar=true;}if(o!==m&&!s)this.fireSearch();};b.prototype.getFilters=function(){if(this.getMode()==F)return S.prototype.getFilters.apply(this,arguments);var v=this._getSmartVisualFilterBar();return v?v.getFilters():[];};b.prototype.getFilterData=function(){if(this.getMode()==F)return S.prototype.getFilterData.apply(this,arguments);var v=this._getSmartVisualFilterBar();return v?v.getFilterData():{};};b.prototype.getParameters=function(){if(this.getMode()==F)return S.prototype.getParameters.apply(this,arguments);return;};b.prototype.isPending=function(){if(this.getMode()==F)return S.prototype.isPending.apply(this,arguments);return;};b.prototype.search=function(){return S.prototype.search.apply(this,arguments);};b.prototype.getFilterCount=function(){if(this.getMode()==F){var f=S.prototype.retrieveFiltersWithValues.apply(this,arguments);return f?f.length:0;}var v=this._getSmartVisualFilterBar();return v?v.getFilterCount():0;};b.prototype._onVisualFilterChange=function(){this.fireFilterChange();this.fireSearch();};b.prototype._getSmartVisualFilterBar=function(){return this._findControl(this.getSmartVisualFilterBarId());};b.prototype._findControl=function(i){if(!i)return null;var c=sap.ui.getCore().byId(i);if(c)return c;var v=this._getView();if(v)return v.byId(i);return null;};b.prototype._getView=function(){if(this._view)return this._view;var p=this.getParent();while(p){if(p instanceof sap.ui.core.mvc.View){this._view=p;break;}p=p.getParent();}return this._view;};});
